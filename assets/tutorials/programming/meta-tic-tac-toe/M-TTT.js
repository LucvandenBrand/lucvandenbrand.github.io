!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);n(3);class i{constructor(e,t,n){const r=[],l=document.createElement("div");let o,s=!1;const a=()=>{this.isMarked()&&l.setAttribute("mark",o),this.isEnabled()?l.classList.add("enabled"):l.classList.remove("enabled")};this.getMetaIndex=(t=>{if(this.isLeaf())return n.getMetaIndex(this);const i=(t=>{let n=-1,i=-1;for(let l=0;l<e;l++)if((i=r[l].indexOf(t))>=0){n=l;break}return{row:n,col:i}})(t);return this.isRoot()?[i]:n.getMetaIndex(this).concat(i)}),this.getChild=((e,t)=>{if(!this.isLeaf())return r[e][t]}),this.getElement=(()=>l),this.getSize=(()=>e),this.getParent=(()=>n),this.isLeaf=(()=>0===t),this.isRoot=(()=>null==n),this.setMark=(e=>{o=e,a()}),this.getMark=(()=>o),this.isMarked=(()=>null!=o),this.enable=(e=>{s=e,a()}),this.isEnabled=(()=>s),this.isLeaf()||(()=>{r.length=0,l.innerHTML="";for(let n=0;n<e;n++){r[n]=[];for(let o=0;o<e;o++){const o=new i(e,t-1,this);r[n].push(o),l.appendChild(o.getElement())}}})(),a()}}n(1);const r=document.getElementById("meta-level"),l=document.getElementById("level-value"),o=()=>{l.innerText=String(r.value-1)};o(),r.oninput=o,document.getElementById("new-game").onclick=(()=>{const e=document.getElementById("grid-container");e.innerHTML="";const t=new i(3,r.value);e.appendChild(t.getElement()),new class{constructor(e){let t=0;const n=(e,t)=>{if(e.isLeaf())t(e);else for(let i=0;i<e.getSize();i++)for(let r=0;r<e.getSize();r++)n(e.getChild(i,r),t)},i=(e,t)=>{e.isMarked()||((e=>{for(let t=0;t<e.getSize();t++){const n=e.getChild(t,0).getMark();if(null==n)continue;let i;for(i=0;i<e.getSize()&&e.getChild(t,i).getMark()===n;i++);if(i===e.getSize())return!0}return!1})(e)||(e=>{for(let t=0;t<e.getSize();t++){const n=e.getChild(0,t).getMark();if(null==n)continue;let i;for(i=0;i<e.getSize()&&e.getChild(i,t).getMark()===n;i++);if(i===e.getSize())return!0}return!1})(e)||(e=>{const t=e.getChild(0,0).getMark(),n=e.getChild(0,e.getSize()-1).getMark();let i=!0,r=!0;for(let l=0;l<e.getSize();l++){e.getChild(l,l).getMark()!==t&&(i=!1);let o=e.getSize()-l-1;e.getChild(l,o).getMark()!==n&&(r=!1)}return null!=t&&i||null!=n&&r})(e))&&(e.setMark(t),e.isRoot()||i(e.getParent(),t))},r=e=>{const t=e.getSize()*e.getSize();return(e=>{let t=0;for(let n=0;n<e.getSize();n++)for(let i=0;i<e.getSize();i++)e.getChild(n,i).isMarked()&&t++;return t})(e)===t},l=(e,t)=>{if(1===t.length){if(r(e)&&!e.isRoot()&&(e=(e=>{for(let t=0;t<e.getSize();t++)for(let n=0;n<e.getSize();n++){const i=e.getChild(t,n);if(!r(i))return i}})(e.getParent())),null==e)return;return void n(e,e=>{e.enable(!0)})}const i=t.pop();let o=e.getChild(i.row,i.col);l(o,t)},o=r=>{const o=(()=>t^=1)();r.isEnabled()&&!r.isMarked()&&(r.setMark(o),i(r.getParent(),o),n(e,e=>{e.enable(!1)}),l(e,r.getMetaIndex()))};n(e,e=>{e.getElement().onclick=(()=>{o(e)}),e.enable(!0)})}}(t)})},function(e,t){},,function(e,t){}]);
//# sourceMappingURL=metaTTT.js.map